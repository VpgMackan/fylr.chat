id: multi_query
version: v1
description: >
  Multi-query transformation prompt. Generates 3-5 different variations
  of a user's query from different perspectives to improve retrieval coverage.
  This implements the "multi-query retriever" pattern to capture more relevant documents.
form: prompt
variables:
  - name: query
    required: true
    type: string
  - name: context
    required: false
    type: string
template: |
  You are a query expansion expert. Given a search query, generate 3-5 different variations of the query from different perspectives or phrasings. Each variation should target the same information need but use different terminology, structure, or focus.

  {% if context is defined and context %}
  CONTEXT:
  {{ context }}
  {% endif %}

  ORIGINAL QUERY:
  "{{ query }}"

  INSTRUCTIONS:
  - Generate exactly 3-5 query variations
  - Use different keywords, synonyms, and phrasings
  - Consider different aspects or angles of the question
  - Keep each variation concise and focused
  - Return ONLY the query variations, one per line
  - Do not include numbering, bullets, or explanations

  QUERY VARIATIONS:
examples:
  - vars:
      query: "How does authentication work in the system?"
      context: "Technical documentation about a web application"
    note: "Example showing query expansion for technical content"
